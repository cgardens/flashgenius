<h1>show deck page</h1>

<h2><%= @deck.name %></h2>
<div class='deck-name-edit-form'>
  <%= form_for [@user, @deck] do |f| %>
    Deck Name:<%= f.text_field :name %><br>
    <%= f.submit "Update" %>
  <% end %>
    <button action='' class='cancel-deck-name-edit'>cancel</button>
</div>

<hr>

<% if @user.id == current_user %>
  <%= link_to 'take quiz', take_quiz_user_deck_path(user_id: @deck.user_id, id: @deck.id) %>
  <button action='' class='deck-name-edit-button'>edit deck name</button>
  <%= button_to 'delete deck', { controller: :decks, action: 'destroy', id: @deck.id, user_id: @user.id }, method: :delete, data: {:confirm => 'Are you sure?'} %>

<% else %>
  <%= button_to 'copy deck to your profile', copy_deck_user_deck_path(user_id: @deck.user_id, id: @deck.id) %>
<% end %>

<div class='cards-container'>
<% @cards.each do |card| %>
  <div class='card' id='card_<%= card.id %>'>
    <div class='questions'><%= card.question %></div>
    <div class='answers_1'><%= card.answer_1 %></div>
    <div class='answers_2'><%= card.answer_2 %></div>
    <div class='answers_3'><%= card.answer_3 %></div>
    <div class='answers_4'><%= card.answer_4 %></div>
  </div>
<% end %>
</div>

<script>
  $(document).ready(function(){
    $('.deck-name-edit-form').hide()

    $('.cancel-deck-name-edit').on('click', function(e){
      e.preventDefault()
      $('.deck-name-edit-form').hide()
    })

    $('.deck-name-edit-button').on('click', function(e){
      e.preventDefault()
      $('.deck-name-edit-form').show()
    })
  })


</script>
